<!DOCTYPE html>
<html>
	<head>
		<title>Calculatrice d'invocations</title>
		<link rel="icon" type="image/png" href="./img/favicon.png"/>
		<!-- Jquery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<!-- Bootstrap 3 -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<!-- Custom CSS -->
		<link rel="stylesheet" href="./css/main-style.css">
	</head>
	<body>
		<div id="APPLICATION_PANEL" class="row" style="margin-top: 1em; margin-left: 0;margin-right: 0;"><div class="col-lg-10 col-lg-offset-1 col-md-12">
			<div class="panel panel-primary ">
				<div class="panel-heading">
					<div class="row">
						<div class="col-md-11 col-sm-11 col-xs-10">
							<h4>Calculatrice d'invocations</h4>
						</div>
						<div class="col-md-1 col-sm-1 col-xs-2 rightAlign" style="padding-right:2em;">
							<h4>
								<span class="pointer" onclick="$('#aboutModal').modal();">?</span>
							</h4>
						</div>
					</div>
				</div>
				<div class="panel-body">
					<div class="row padding_row">
						<div class="col-md-10 no_padding_col" style="margin-right:0;">
							<ul id="invocation_menu" class="nav nav-tabs">
								<li class="placeholder disabled"><a>Aucune invocation dans l'application</a></li> 
							</ul>  
						</div>
						<div id="bouton_top" class="col-md-2 no_padding_col rightAlign" style="margin-left: 0;border-bottom:1px solid #ddd;height:42px">
							<button class="btn btn-default" type="button" onclick="addInvocation()">
								<span class="glyphicon glyphicon-file"/>
							</button>
							<button class="btn btn-default" type="button" onclick="$('#invocationLoader').click();">
								<span class="glyphicon glyphicon glyphicon glyphicon-folder-open"/>
							</button>
							<button class="btn btn-default" type="button" onclick="synchroniseInvocations();">
								<span class="glyphicon glyphicon glyphicon glyphicon-cloud-upload"/>
							</button>
							<input type="file" style="display:none" id="invocationLoader" onchange="loadInvocation(this)"/> 
						</div>
					</div>
					
					<div id="invocation_div">
					</div>
				</div>
				<div class="panel-footer rightAlign">&copy;2020 Frimousse Corp. - All Right Reserved</div>
			</div>
		</div></div>
		<!-- Modal About -->
		<div id="aboutModal" class="modal fade" tabindex="-1" role="dialog">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header modal-header-primary">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Calculatrice d'invocations V1.6</h4>
					</div>
					<div class="modal-body" style="overflow: auto;max-height:400px;">
						<p>Par Arbiter - Ce logiciel est fourni tel-quel sans garantie aucune.</p>
						<h4>Description</h4>
						<p>
							"Calculatrice Invocation" est une application simple écrite en HTML/CSS/JS, utilisant les framework jquery et bootstrap 3. Ces technologies ont été sélectionnées car elles permettaient un développement rapide de l'application et permettra à terme de la déployer ou je veux.<br><br>
							Celle-ci sert à gérer les invocations de mon personnage "Frimousse l'invocateur" dans ma table de donjon 3.5, avec les dons, objets, capacités et alliés augmentant celles-ci il devenait très complexe de faire les calculs des pvs et des attaques. Entrainant une perte de temps et une certaine frustration de ma part.<br><br>
							"Calculatrice Invocation" permet donc de gérer les stats des invocations et calcule automatiquement les buffs appliqués à celles-ci. De plus, elle permet de générer les commandes d'attaques pour Roll20.<br><br>
						<h4>Instructions</h4>
						<p>
							Clic et regarde ce que ça fait... humm....bon...<br>
							L'application est composé d'une listre d'invocations (Initialement vide) et des boutons "Ajouter", "Charger" et "Synchroniser".<br>
							Le bouton "Ajouter" Crée une nouvelle invocation. Le bouton charger permet de charger un fichier JSON contenant une invocation préalablement sauvegardée sur disque. Le bouton synchroniser sauvegarde l'état actuel de la liste dans la mémoire du navigateur et celle-ci sera chargée lors du prochain démarrage de l'application.<br>
							Pour sélectionner une invocation il suffit de cliquer sur son nom.<br><br>
						</p>
						<p>
							Chaque invocation est composé d'un bloc de donnée, d'un bloc de buffs (bon, j'ai mis que ceux qui m'étaient utiles, j'avoue), et d'un paneau résultat.<br><br>
						</p>
						<p>
							Le bloc de données à dans sont entête trois bouton: "Sauvegarder", "Supprimer" , "Afficher/Cacher le bloc de donnée"<br><br>
							Il m'y est possible d'entrer les données suivantes :
							<ul>
								<li>nom</li>
								<li>Type</li>
								<li>Nombre de dés de vies</li>
								<li>Valeur du dés de vie</li>
								<li>Initiative</li>
								<li>Force</li>
								<li>Dextérité</li>
								<li>Constitution</li>
								<li>Intelligence</li>
								<li>Sagesse</li>
								<li>Charisme</li>
								<li>Armure</li>
								<li>Réflexe</li>
								<li>Vigueur</li>
								<li>Volonté</li>
								<li>Sorts / Pouvoirs Magiques</li>
								<li>Résistances / Immunité</li>
								<li>Notes</li>
								<li>4 attaques composées de : "Nom","Quantité","Bonus Toucher" (Nombre),"Dégats" (XDX+X), Critique, Multiplicateur et Notes</li>
							</ul><br>
						</p>
						<p>
							Le bloc de données de bufss me permet de sélectionner les buffs à appliquer au monstre:
							<ul>
								<li>Le don "Augment Summoning"</li>
								<li>La capacité de classe "Deceptive Summon"</li>
								<li>La capacité de classe "Minor School Esoterica"</li>
								<li>La capacité de l'anneau de "Mighty Summon"</li>
								<li>Un bonus Bardique au touché et aux dégats</li>
								<li>Un bonus Bardique de dégats de feux (XD6)</li>
								<li>Un bouton pour initier le calcul</li>
							</ul><br>
						</p>
						<p>
							Le bloc de résultats afficheras les données de l'invocation une fois les buffs appliqués. Il est important de noter la présence de boutons à cotés des attaques. Qui permettent de copier dans le presse papier un template roll20 de celle-ci.
						</p>
					</div> 	
					<div class="modal-footer rightAlign">
						<button class="btn btn-default" type="button" onclick="$('#aboutModal').modal('hide');">Heu... Merci?</button>
					</div>
				</div>
			</div>
		</div>
		<!-- Confirmation suppression -->
		<div  id="delete_confirm_modal" class="modal fade" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header modal-header-primary">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Attention</h4>
					</div>
					<div class="modal-body">
						<p>Êtes vous sur de vouloir supprimer cette invocation?</p>
					</div> 	
					<div class="modal-footer rightAlign">
						<button class="btn btn-primary" type="button" onclick="deleteInvocation();">Confirmer</button>
						<button class="btn btn-default" type="button" onclick="$('#delete_confirm_modal').modal('hide');">Annuler</button>
					</div>
				</div>
			</div>
		</div>
		<!-- Gestion de la persistance browser -->
		<script src="./js/calculator.persistance.js"></script>
		<!-- Gestion des invocations -->
		<script src="./js/calculator.invocations.js"></script>
		<!-- Modèle de donnée -->
		<script src="./js/calculator.model.js"></script>
		<!-- Fonctions utilitaires -->
		<script src="./js/calculator.util.js"></script>
		<!-- Intégration Roll20 -->
		<script src="./js/calculator.roll20.js"></script>
	</body>
	
</html>
	